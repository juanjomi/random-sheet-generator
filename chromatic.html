
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Chromatic Mode</title>
<style>
body { font-family: sans-serif; text-align: center; padding: 20px; }
#resultado { display: grid; grid-template-columns: repeat(8, 1fr); gap: 6px; }
.cell { border: 1px solid #444; padding: 6px; }
</style>
</head>
<body>
<h2>Chromatic Mode</h2>
<button onclick="generate()">Generate</button>
<div id="resultado"></div>

<script>
const notasSostenido = {1:"C",2:"C#",3:"D",4:"D#",5:"E",6:"F",7:"F#",8:"G",9:"G#",10:"A",11:"A#",12:"B"};
const notasBemol = {1:"C",2:"Db",3:"D",4:"Eb",5:"E",6:"F",7:"Gb",8:"G",9:"Ab",10:"A",11:"Bb",12:"B"};

function mulberry32(a){
  return function(){
    var t = a += 0x6D2B79F5;
    t = Math.imul(t ^ t >>> 15, t | 1);
    t ^= t + Math.imul(t ^ t >>> 7, t | 61);
    return ((t ^ t >>> 14) >>> 0) / 4294967296;
  }
}

function generate() {
  const resultado = document.getElementById("resultado");
  resultado.innerHTML = "";

  for (let row = 0; row < 12; row++) {
    const rng = mulberry32(Date.now() + row);
    const usarBemol = rng() < 0.5;
    const notasBase = usarBemol ? notasBemol : notasSostenido;

    let notas = [...Array(12).keys()].map(n => n + 1);
    notas.sort(() => rng() - 0.5);

    for (let col = 0; col < 8; col++) {
      let n = notas[col % notas.length];
      let nota = notasBase[n];
      let div = document.createElement("div");
      div.className = "cell";
      div.textContent = nota;
      resultado.appendChild(div);
    }
  }
}
</script>
</body>
</html>
