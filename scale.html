
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Scale Mode</title>
<style>
body { font-family: sans-serif; text-align: center; padding: 20px; }
#preview { margin: 10px; font-weight: bold; }
#grid { display: grid; grid-template-columns: repeat(8, 1fr); gap: 6px; margin-top: 15px; }
.cell { border: 1px solid #444; padding: 6px; }
</style>
</head>
<body>
<h2>Scale Mode</h2>
<select id="scale" onchange="updatePreview()"></select>
<div id="preview"></div>
<button onclick="generate()">Generate</button>
<div id="grid"></div>

<script>
const scales = {
  "C Major": ["C","D","E","F","G","A","B"],
  "A Minor": ["A","B","C","D","E","F","G"],
  "G Major": ["G","A","B","C","D","E","F#"],
  "D Minor": ["D","E","F","G","A","Bb","C"]
};

const scaleSelect = document.getElementById("scale");

for (let name in scales) {
  let opt = document.createElement("option");
  opt.value = name;
  opt.textContent = name;
  scaleSelect.appendChild(opt);
}

function updatePreview() {
  const scale = scales[scaleSelect.value];
  document.getElementById("preview").textContent = scale.join("  ");
}
updatePreview();

function mulberry32(a){
  return function(){
    var t = a += 0x6D2B79F5;
    t = Math.imul(t ^ t >>> 15, t | 1);
    t ^= t + Math.imul(t ^ t >>> 7, t | 61);
    return ((t ^ t >>> 14) >>> 0) / 4294967296;
  }
}

function generate() {
  const grid = document.getElementById("grid");
  grid.innerHTML = "";

  const scale = scales[scaleSelect.value];
  const rng = mulberry32(Date.now());

  for (let i = 0; i < 96; i++) {
    let note = scale[Math.floor(rng() * scale.length)];
    let div = document.createElement("div");
    div.className = "cell";
    div.textContent = note;
    grid.appendChild(div);
  }
}
</script>
</body>
</html>
